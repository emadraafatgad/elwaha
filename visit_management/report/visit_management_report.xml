<odoo>

        <report
                id="visit_management_report_action"
                model="report.visits"
                string="Visits Analysis"
                report_type="qweb-html"
                name="visit_management.visit_management_report"
                file="visit_management.visit_management_report"
                menu="False"/>


    <template id="visit_management_report">
        <t t-call="web.html_container">
            <div class="header" style="border-bottom: 2px solid black">
                <h3 class="text-center">Visits Plans</h3>
                <h4 class="text-center">
                    <strong>From</strong>:
                    <t t-esc="date_start"/>
                    <strong>To</strong>:
                    <t t-esc="date_end"/>
                </h4>
            </div>
            <div class="article">
                <table class="table table-condensed table-bordered" style="width: 100%">
                    <thead>
                        <th class="text-center" style="width: 10%">Class</th>
                        <th class="text-center" style="width: 10%">Class Visits</th>
                        <th class="text-center" style="width: 10%">Plan Visits</th>
                        <th class="text-center" style="width: 10%">Coverage Plan</th>
                        <th class="text-center" style="width: 10%">Frequency - Plan</th>
                        <th class="text-center" style="width: 10%">Completed</th>
                        <th class="text-center" style="width: 10%">Covarge Rate Done VS Class Visits</th>
                        <th class="text-center" style="width: 10%">Covarge Rate Done VS Plan</th>
                        <th class="text-center" style="width: 10%">Frequency - Done Visits</th>
                    </thead>
                    <tbody>
                        <t t-foreach="docs" t-as="doc">
                            <tr>
                                <td>
                                    <span t-esc="doc['class']"/>
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['class_visits']"/>
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['plan_visits']"/>
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['coverage_plan']"/>%
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['frequency_plan']"/>%
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['visit_done']"/>
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['coverage_rate_plan']"/>%
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['coverage_rate_done']"/>%
                                </td>
                                <td class="text-center">
                                    <span t-esc="doc['frequency_done']"/>%
                                </td>

                            </tr>
                        </t>
                    </tbody>
                </table>
            </div>
            <t t-foreach="customers" t-as="customer_data">
                <div class="article">
                <table class="table table-condensed table-bordered" style="width: 100%">
                    <thead>
                        <th class="text-center" style="width: 100%">
                            <span t-esc="customer_data['class']"/>
                        </th>
                    </thead>
                </table>
                </div>
                <div class="article">
                    <table class="table table-condensed table-bordered" style="width: 100%">
                        <thead>
                            <th class="text-center" style="width: 10%">Doctor</th>
<!--                            <th class="text-center" style="width: 10%">Class</th>-->
                            <th class="text-center" style="width: 10%">Class Visits</th>
                            <th class="text-center" style="width: 10%">Plan Visits</th>
                            <th class="text-center" style="width: 10%">Coverage Plan</th>
                            <th class="text-center" style="width: 10%">Frequency - Plan</th>
                            <th class="text-center" style="width: 10%">Completed</th>
                            <th class="text-center" style="width: 10%">Covarge Rate Done VS Class Visits</th>
                            <th class="text-center" style="width: 10%">Covarge Rate Done VS Plan</th>
                            <th class="text-center" style="width: 10%">Frequency - Done Visits</th>
                        </thead>
                        <tbody>
                            <t t-foreach="customer_data['visits']" t-as="doc">
                                <tr>
                                    <td>
                                        <span t-esc="doc['doctor']"/>
                                    </td>
<!--                                    <td>-->
<!--                                        <span t-esc="doc['class']"/>-->
<!--                                    </td>-->
                                    <td class="text-center">
                                        <span t-esc="doc['class_visits']"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['plan_visits']"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['coverage_plan']"/>%
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['frequency_plan']"/>%
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['customer_done']"/>
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['coverage_rate_done_class']"/>%
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['coverage_rate_done_plan']"/>%
                                    </td>
                                    <td class="text-center">
                                        <span t-esc="doc['frequency_done']"/>%
                                    </td>

                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

</odoo>
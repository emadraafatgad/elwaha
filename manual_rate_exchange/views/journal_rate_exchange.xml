<odoo>
    <!-- views -->


    <!-- form -->

    <record id="manual_rate_exchange_jounral_move_form_view" model="ir.ui.view">
        <field name="name">factura.account.move.form</field>
        <field name="model">account.move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='company_id']" position="before">
                <field name="check_rate"/>
                <field name="f_currency_id"
                       attrs="{'required': [('check_rate', '=', True)],'invisible': [('check_rate', '=', False)]}"/>
<!--                <field name="exchange_amount" attrs="{'invisible': [('check_rate', '=', False)]}"/>-->
                <field name="rate_exchange" attrs="{'invisible': [('check_rate', '=', False)]}"/>
<!--                <field name="to_amount" attrs="{'invisible': [('check_rate', '=', False)]}"/>-->
            </xpath>
            <xpath expr="//field[@name='line_ids']" position="attributes">
                <attribute name="context">{'default_currency_id':f_currency_id, 'default_rate_exchange':
                    rate_exchange,'line_ids':
                    line_ids, 'journal_id': journal_id}
                </attribute>
            </xpath>
            <xpath expr="//field[@name='line_ids']/tree/field[@name='amount_currency']" position="before">
                <field name='rate_exchange'/>
            </xpath>
            <xpath expr="//field[@name='line_ids']" position="attributes">
                <attribute name="context">{'default_currency_id':f_currency_id, 'default_rate_exchange':
                    rate_exchange,'line_ids':
                    line_ids, 'journal_id': journal_id}
                </attribute>
            </xpath>
        </field>
    </record>


</odoo>